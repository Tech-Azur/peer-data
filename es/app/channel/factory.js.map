{"version":3,"file":"factory.js","sourceRoot":"","sources":["../../../src/app/channel/factory.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,cAAc,CAAC;AACzC,OAAO,EAAE,eAAe,EAAE,MAAM,4BAA4B,CAAC;AAE7D,MAAM;IACG,MAAM,CAAC,GAAG,CAAC,OAAuB;QACvC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACxC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC9C,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC1C,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAE1C,MAAM,CAAC,OAAO,CAAC;IACjB,CAAC;IAEO,MAAM,CAAC,SAAS,CAAC,KAAmB;QAC1C,eAAe,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IAClD,CAAC;IAEO,MAAM,CAAC,MAAM,CAAC,KAAY;QAChC,eAAe,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IAClD,CAAC;IAEO,MAAM,CAAC,OAAO,CAAC,KAAY;QACjC,eAAe,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;IACnD,CAAC;IAEO,MAAM,CAAC,OAAO,CAAC,KAAY;QACjC,eAAe,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;IACnD,CAAC;CACF","sourcesContent":["import { EventType } from './event-type';\nimport { EventDispatcher } from './../dispatcher/dispatcher';\n\nexport class DataChannelFactory {\n  public static get(channel: RTCDataChannel): RTCDataChannel {\n    channel.onopen = this.onOpen.bind(this);\n    channel.onmessage = this.onMessage.bind(this);\n    channel.onerror = this.onError.bind(this);\n    channel.onclose = this.onClose.bind(this);\n\n    return channel;\n  }\n\n  private static onMessage(event: MessageEvent) {\n    EventDispatcher.dispatch(EventType.DATA, event);\n  }\n\n  private static onOpen(event: Event) {\n    EventDispatcher.dispatch(EventType.OPEN, event);\n  }\n\n  private static onClose(event: Event) {\n    EventDispatcher.dispatch(EventType.CLOSE, event);\n  }\n\n  private static onError(event: Event) {\n    EventDispatcher.dispatch(EventType.ERROR, event);\n  }\n}\n"]}